<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
    <script src = "trend_by_dept.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>

<body style="text-align:center;">
    <input type = "file" id = "uploadfile" accept=".csv">
    <button id = "uploadconfirm">Upload File</button> 
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>></script>

    <script>
        const Department = [];
        const FY18Amount = [];
        const FY19Amount = [];
        const FY20Amount = [];
        const FY21Amount = [];
        const FY22Amount = [];
        const uploadconfirm = document.getElementById('uploadconfirm').
            addEventListener('click', () => {
            Papa.parse(document.getElementById('uploadfile').files[0],
            {
                download: true, 
                header: true,
                skipEmptyLines: true,
                complete: function(results){
                    console.log(results);
                    for(i = 0; i < results.data.length; i++){
                        Department.push(results.data[i].Department);
                        FY18Amount.push(results.data[i].FY18Amount);
                        FY19Amount.push(results.data[i].FY19Amount);
                        FY20Amount.push(results.data[i].FY20Amount);
                        FY21Amount.push(results.data[i].FY21Amount);
                        FY22Amount.push(results.data[i].FY22Amount);
                    }
                    console.log(Department);
                    console.log(FY18Amount);
                    console.log(FY19Amount);
                    console.log(FY20Amount);
                    console.log(FY21Amount);
                    console.log(FY22Amount);
                }
            });
        });
    </script>
    
    </body>
</html>