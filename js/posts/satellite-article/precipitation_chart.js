let lineChart;

/**
 * Sources:
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca9152
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca5115
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca5085
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca6719
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca7851
 * https://wrcc.dri.edu/cgi-bin/cliMAIN.pl?ca6624
 */

const years = [
    1949,
    1950,
    1951,
    1952,
    1953,
    1954,
    1955,
    1956,
    1957,
    1958,
    1959,
    1960,
    1961,
    1962,
    1963,
    1964,
    1965,
    1966,
    1967,
    1968,
    1969,
    1970,
    1971,
    1972,
    1973,
    1974,
    1975,
    1976,
    1977,
    1978,
    1979,
    1980,
    1981,
    1982,
    1983,
    1984,
    1985,
    1986,
    1987,
    1988,
    1989,
    1990,
    1991,
    1992,
    1993,
    1994,
    1995,
    1996,
    1997,
    1998,
    1999,
    2000,
    2001,
    2002,
    2003,
    2004,
    2005,
    2006,
    2007,
    2008,
    2009,
    2010,
    2011,
    2012,
    2013,
    2014,
    2015,
    2016,
    2017,
    2018,
    2019,
    2020,
    2021
];

function initializeChart() {
  let data = {
    labels: years,
    datasets: [
      {
        data: [
          14.05,
          8.28,
          16.17,
          31.29,
          6.08,
          19.91,
          14.4,
          14.82,
          19.24,
          19.89,
          8.36,
          12.88,
          7.01,
          20.65,
          14.07,
          10.31,
          24.51,
          12.66,
          24.21,
          9.54,
          28.33,
          18.97,
          11.72,
          6.67,
          20.32,
          19.89,
          10.38,
          9.13,
          12.99,
          14.4,
          17.96,
          26.34,
          12.49,
          19.3,
          41.09,
          7.25,
          11.73,
          21.96,
          12.27,
          14.21,
          5.26,
          9.88,
          15.63,
          20.23,
          33.57,
          10.49,
          34.58,
          22.33,
          14.76,
          38.51,
          8.49,
          15.86,
          26.35,
          9.12,
          15.55,
          21.67,
          32.16,
          14.27,
          6.74,
          16.52,
          12.94,
          27.92,
          16.09,
          10.43,
          4.17,
          9.8,
          8.19,
          13.18,
          15.48,
          13.08,
          27.2,
          10.42,
          14.58
        ],
        label: "Westwood (UCLA)",
        backgroundColor: 'rgb(39,116,174)',
        borderColor: 'rgb(39,116,174)',
      },
      {
        data:[
          10.63,
          7.38,
          14.33,
          24.95,
          4.08,
          13.69,
          11.89,
          13.62,
          13.24,
          17.49,
          6.23,
          9.57,
          5.83,
          15.37,
          12.31,
          7.98,
          26.81,
          12.91,
          23.66,
          7.58,
          26.32,
          16.54,
          9.26,
          6.54,
          17.45,
          16.69,
          10.7,
          11.01,
          14.97,
          30.57,
          17,
          26.33,
          10.92,
          14.41,
          34.04,
          8.9,
          8.92,
          18,
          9.11,
          11.63,
          4.56,
          6.49,
          15.07,
          22.65,
          23.5,
          8.66,
          23.65,
          17.75,
          10.69,
          27.85,
          8.06,
          11.93,
          19.6,
          7.35,
          13.37,
          20.1,
          26.61,
          11.61,
          5.66,
          14.43,
          9.39,
          23.09,
          12.26,
          8.15,
          3.6,
          9.77,
          7.66,
          11.8,
          13.24,
          8.86,
          21.55,
          9.81,
          14.27
        ],
        label: "Downtown Los Angeles (USC)",
        backgroundColor: 'rgb(153,27,30)',
        borderColor: 'rgb(153,27,30)',
      },
      {
        data:[
          6.62,
          6.47,
          9.87,
          15.74,
          2.82,
          10.47,
          8.81,
          11.4,
          5.84,
          3.64,
          5.94,
          8.23,
          4.52,
          11.96,
          13.61,
          4.96,
          17.54,
          9.04,
          13.82,
          5.66,
          20.02,
          12.27,
          8.84,
          6.02,
          13.43,
          15.62,
          10.22,
          7.35,
          10.9,
          27.67,
          15.61,
          21.36,
          11.16,
          10.74,
          26.69,
          8.49,
          8.23,
          13.49,
          8.24,
          8.09,
          3,
          5.7,
          12.16,
          16.9,
          19.19,
          8.37,
          21.47,
          15.25,
          12.96,
          25.01,
          6.84,
          8.55,
          10.21,
          2.63,
          9.69,
          14.92,
          21.56,
          7.84,
          4.3,
          13.08,
          7.73,
          25.24,
          9.3,
          8.21,
          4.18,
          8.64,
          5.09,
          9.19,
          14.97,
          7.07,
          21.51,
          8.28,
          9.13,
        ],
        label: "Long Beach",
        backgroundColor: 'rgb(255,199,42)',
        borderColor: 'rgb(255,199,42)',
      },
      {
        data:[
          15.07,
          11.02,
          18.17,
          37.13,
          5.83,
          18.1,
          16.18,
          16.13,
          21.12,
          25.6,
          10.5,
          8.95,
          6.72,
          19.25,
          14.9,
          12.1,
          31.75,
          13.75,
          25.93,
          7.82,
          32.59,
          21.95,
          11.91,
          7.16,
          20.69,
          20.64,
          11.58,
          15.77,
          18.62,
          36.45,
          14.24,
          38.54,
          14.67,
          22.36,
          48.47,
          13.67,
          9.99,
          22.43,
          15.3,
          10.87,
          6.93,
          11.24,
          22.76,
          33.78,
          33.27,
          10.59,
          36.71,
          24.72,
          14.68,
          34.42,
          9.79,
          18.79,
          20.93,
          9.32,
          17.83,
          30.18,
          38.21,
          13.05,
          9.79,
          23.74,
          15.52,
          36.1,
          15.95,
          12.96,
          6.24,
          14.14,
          10.84,
          15.86,
          15.36,
          12.91,
          29.42,
          12.65,
          15.18,
        ],
        label: "Pasadena",
        backgroundColor: 'rgb(255,108,12)',
        borderColor: 'rgb(255,108,12)',
      },
      {
        data:[
          16.84,
          21.12,
          18.74,
          28.81,
          9.94,
          21.77,
          24.25,
          13.48,
          21.3,
          29.3,
          11.64,
          20.23,
          7.64,
          23.48,
          26.88,
          19.44,
          21.75,
          16.74,
          28.47,
          18.97,
          48.76,
          27.7,
          15.4,
          14.39,
          39.16,
          27.93,
          19.3,
          16.93,
          16.14,
          44.85,
          22.41,
          24.96,
          22.97,
          34.89,
          43.35,
          11.71,
          11.68,
          24.8,
          12.61,
          9.15,
          8.13,
          6.93,
          22.78,
          23.74,
          28.03,
          19.58,
          41.45,
          37.63,
          25.04,
          36.58,
          15.15,
          25.4,
          32.22,
          18.34,
          12.85,
          25.75,
          23.79,
          10.24,
          7.5,
          7.02,
          13.32,
          27.85,
          9.83,
          21.52,
          4.56,
          16.91,
          9.95,
          22.76,
          30.76,
          20.32,
          29.05,
          12.17,
          23.87,
        ],
        label: "San Luis Obispo",
        backgroundColor: 'rgb(21,71,52)',
        borderColor: 'rgb(21,71,52)',
      },
      {
        data:[
          4.4,
          3.62,
          8.56,
          16.61,
          1.9,
          10.35,
          5.11,
          4.99,
          9.87,
          11.04,
          4.54,
          4.89,
          3.69,
          7.54,
          7.34,
          4.48,
          10.35,
          5.15,
          8.26,
          4.16,
          10.08,
          6.63,
          5.23,
          2.29,
          6.89,
          7.7,
          3.12,
          5.11,
          9.75,
          13.23,
          9.04,
          13.6,
          6.18,
          11.29,
          15.44,
          6.91,
          1.35,
          5.17,
          7.27,
          5.81,
          2.63,
          2.45,
          9.12,
          13.89,
          14.44,
          3.84,
          9.05,
          5.73,
          5.77,
          12.28,
          2.26,
          4.07,
          7.14,
          2.67,
          8.61,
          11.83,
          14.54,
          5.75,
          1.94,
          6.44,
          4.27,
          14.57,
          0.78,
          2.88,
          2.89,
          5.96,
          5.7,
          6.13,
          4.98,
          3.7,
          7.36,
          6.73,
          4.3,
        ],
        label: "Palmdale",
        backgroundColor: 'black',
        borderColor: 'black',
      },
    ],
  };

  const options = {
    scales: {
      y: {
        title: {
          display: true,
          text: 'Annual Precipitation Record (in mm)',
        },
        max: 50,
      },
    },
    plugins: {
      legend: {
        display: true,
      },
      title: {
        display: true,
        text: 'Annual Precipitation Recorded at Various Southern California Weather Stations',
        font: {
          size: 19,
        },
      },
    },
    maintainAspectRatio: false,
    animation: false,
  };

  let ctx = document.getElementById('barChart');
  lineChart = new Chart(ctx, {
    type: 'line',
    data: data,
    options: options,
  });
}

initializeChart();